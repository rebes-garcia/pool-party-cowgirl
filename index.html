<!doctype html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="Invitaci√≥n: Pool Party XV de Rebes. Confirma tu asistencia (RSVP)." />
    <title>Pool Party XV de Rebes</title>

    <!-- Tipograf√≠as gratis (Google Fonts) con vibe ‚Äúviejo oeste‚Äù. -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Rye&family=Special+Elite&family=Inter:wght@400;600;700&display=swap"
      rel="stylesheet"
    />

    <!-- Tailwind CSS v√≠a CDN (un solo HTML) -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            fontFamily: {
              serif: ["Rye", "ui-serif", "Georgia", "serif"],
              sans: ["Special Elite", "Inter", "ui-sans-serif", "system-ui", "sans-serif"],
            },
            colors: {
              blush: { 50: "#fff1f2", 100: "#ffe4e6", 300: "#fda4af", 500: "#f43f5e", 600: "#e11d48" },
              sand: { 50: "#fff7ed", 100: "#ffedd5", 200: "#fed7aa", 500: "#f97316" },
              aqua: { 50: "#ecfeff", 100: "#cffafe", 300: "#67e8f9", 500: "#06b6d4", 700: "#0e7490" },
              denim: { 50: "#eff6ff", 100: "#dbeafe", 400: "#60a5fa", 700: "#1d4ed8" },
              cocoa: { 100: "#f5ede6", 400: "#b08968", 700: "#6f4e37" },
            },
            boxShadow: {
              soft: "0 18px 40px -26px rgba(15, 23, 42, 0.35)",
            },
          },
        },
      };
    </script>

    <style>
      html {
        scroll-behavior: smooth;
      }

      /* Fondo: ‚Äúpapel‚Äù rosa palo con textura y estrellitas sutiles (SVG embebido). */
      .poster-bg {
        background-color: #f4d6da; /* rosa palo */
        background-image:
          radial-gradient(1000px 600px at 50% 0%, rgba(255, 255, 255, 0.5), rgba(255, 255, 255, 0)),
          url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='240' height='240' viewBox='0 0 240 240'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%236f4e37' fill-opacity='0.10'%3E%3Cpath d='M32 24l2.2 4.5 5 2.1-5 2.1-2.2 4.9-2.2-4.9-5-2.1 5-2.1L32 24zm152 32l1.6 3.2 3.6 1.5-3.6 1.5-1.6 3.6-1.6-3.6-3.6-1.5 3.6-1.5 1.6-3.2zM70 140l1.9 3.8 4.3 1.8-4.3 1.8-1.9 4.1-1.9-4.1-4.3-1.8 4.3-1.8 1.9-3.8zM188 176l2 4 4.6 2-4.6 2-2 4.3-2-4.3-4.6-2 4.6-2 2-4z'/%3E%3Ccircle cx='120' cy='86' r='1.9'/%3E%3Ccircle cx='208' cy='28' r='1.6'/%3E%3Ccircle cx='20' cy='88' r='1.4'/%3E%3Ccircle cx='126' cy='204' r='1.6'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
        background-repeat: repeat;
      }

      /* Hoja del p√≥ster */
      .poster-sheet {
        background: rgba(255, 250, 250, 0.86);
        border: 3px solid rgba(111, 78, 55, 0.55);
        box-shadow: 0 24px 70px -38px rgba(17, 24, 39, 0.55);
        position: relative;
      }
      .poster-sheet:before {
        content: "";
        position: absolute;
        inset: 10px;
        border: 2px dashed rgba(111, 78, 55, 0.35);
        border-radius: 26px;
        pointer-events: none;
      }

      .poster-kicker {
        font-family: Rye, ui-serif, Georgia, serif;
        letter-spacing: 0.18em;
        text-transform: uppercase;
      }
      .poster-title {
        font-family: Rye, ui-serif, Georgia, serif;
        letter-spacing: 0.04em;
        text-transform: uppercase;
      }
      .poster-panel {
        background: rgba(255, 255, 255, 0.75);
        border: 2px solid rgba(111, 78, 55, 0.25);
        box-shadow: 0 18px 40px -30px rgba(15, 23, 42, 0.35);
        border-radius: 2rem;
      }
      .poster-rule {
        height: 1px;
        background: linear-gradient(90deg, rgba(111, 78, 55, 0), rgba(111, 78, 55, 0.5), rgba(111, 78, 55, 0));
      }

      /* Fotos estilo ‚ÄúSE BUSCA‚Äù */
      .wanted-card {
        background: rgba(255, 252, 250, 0.92);
        border: 2px solid rgba(111, 78, 55, 0.38);
        border-radius: 1.75rem;
        box-shadow: 0 20px 50px -38px rgba(17, 24, 39, 0.55);
        position: relative;
        overflow: hidden;
      }
      .wanted-card:before {
        content: "";
        position: absolute;
        inset: 10px;
        border: 2px dashed rgba(111, 78, 55, 0.22);
        border-radius: 1.4rem;
        pointer-events: none;
      }
      .wanted-title {
        font-family: Rye, ui-serif, Georgia, serif;
        letter-spacing: 0.14em;
        text-transform: uppercase;
      }
      .wanted-photo {
        filter: sepia(0.75) grayscale(0.35) contrast(1.05) saturate(0.9);
        mix-blend-mode: multiply;
      }
      /* Variaci√≥n para fotos reales: m√°s ‚Äúrosa palo‚Äù para combinar con el afiche */
      .wanted-photo-rose {
        filter: sepia(0.7) grayscale(0.25) contrast(1.06) saturate(0.95) hue-rotate(-8deg);
      }
      .wanted-grain {
        background-image: radial-gradient(rgba(111, 78, 55, 0.08) 1px, transparent 1px);
        background-size: 6px 6px;
        opacity: 0.35;
      }

      /* Visualizer canci√≥n */
      .viz-bar {
        height: 6px;
        transform-origin: bottom;
      }

      /* Siluetas ‚Äúcutout‚Äù tipo viejo oeste (como tu referencia) */
      .cutout {
        color: rgba(59, 36, 22, 0.58); /* caf√© */
        filter: drop-shadow(0 14px 30px rgba(0, 0, 0, 0.08));
      }
      .cutout-strong {
        color: rgba(59, 36, 22, 0.72);
      }

      .btn-pop {
        transform: translateZ(0);
      }
      .btn-pop:active {
        transform: scale(0.98);
      }

      .count-number {
        font-variant-numeric: tabular-nums;
        letter-spacing: 0.02em;
      }
    </style>
  </head>

  <body class="poster-bg font-sans text-slate-900">
    <a
      href="#confirmar"
      class="sr-only focus:not-sr-only focus:fixed focus:top-3 focus:left-3 focus:z-50 rounded-full bg-white/90 px-4 py-2 text-sm font-semibold shadow-soft"
    >
      Saltar a confirmaci√≥n
    </a>

    <!-- Contenedor tipo ‚Äúafiche‚Äù -->
    <div class="mx-auto my-6 w-full max-w-2xl px-4 sm:max-w-3xl sm:px-6">
      <div class="poster-sheet overflow-hidden rounded-[2.2rem]">

    <!-- Decoraciones ‚Äúcutout‚Äù tipo viejo oeste (SVG embebidos, estilo silueta) -->
    <div aria-hidden="true" class="pointer-events-none fixed inset-0 -z-10">
      <!-- Caballo (arriba izquierda) -->
      <div class="cutout absolute -left-12 top-10 rotate-[-10deg] sm:left-6">
        <svg width="220" height="220" viewBox="0 0 120 120">
          <path
            fill="currentColor"
            d="M22 64c6-18 19-28 36-32l8-12c3-4 9-4 12 0l3 4c6 0 12 2 17 6l6 5-7 6c1 4 1 9 0 13-2 10-10 18-22 20l-10 2-7 18H44l3-18-7-3c-9-4-15-9-18-9z"
          />
          <circle cx="79" cy="40" r="2.6" fill="#f4d6da" opacity="0.85" />
        </svg>
      </div>

      <!-- Lazo (arriba derecha) -->
      <div class="cutout absolute -right-10 top-8 rotate-[12deg] sm:right-8">
        <svg width="220" height="220" viewBox="0 0 120 120">
          <path
            d="M22 42c0-12 10-22 22-22h18c12 0 22 10 22 22 0 14-12 18-26 18-13 0-36-2-36-18z"
            fill="none"
            stroke="currentColor"
            stroke-width="6"
            stroke-linecap="round"
          />
          <path
            d="M68 58c0 16-13 26-28 26-11 0-18-6-18-14 0-7 6-12 13-12"
            fill="none"
            stroke="currentColor"
            stroke-width="6"
            stroke-linecap="round"
          />
        </svg>
      </div>

      <!-- Botas (abajo izquierda) -->
      <div class="cutout cutout-strong absolute -left-10 bottom-28 rotate-[8deg] sm:left-8">
        <svg width="240" height="240" viewBox="0 0 140 140">
          <path
            fill="currentColor"
            d="M44 18h30v50c0 12 10 20 22 20h18c11 0 18 10 14 21-4 12-22 19-42 19H58c-20 0-32-11-32-32V18h18z"
          />
          <path
            fill="currentColor"
            d="M92 16h24v44c0 10 8 18 18 18h-14c-20 0-28-11-28-27V16z"
            opacity="0.95"
          />
        </svg>
      </div>

      <!-- Sombrero (abajo derecha) -->
      <div class="cutout absolute -right-12 bottom-16 rotate-[-10deg] sm:right-10">
        <svg width="220" height="220" viewBox="0 0 120 120">
          <path
            fill="currentColor"
            d="M18 72c10 10 74 10 84 0 4-4 6-9 6-15 0-9-8-16-18-16H30c-10 0-18 7-18 16 0 6 2 11 6 15z"
          />
          <path
            fill="currentColor"
            d="M40 26c0-8 7-14 15-14h18c8 0 15 6 15 14l6 24c2 10-5 20-16 20H50c-11 0-18-10-16-20l6-24z"
            opacity="0.92"
          />
        </svg>
      </div>
    </div>

    <header class="px-6 pb-4 pt-10 text-center">
      <p class="poster-kicker text-xs font-semibold text-cocoa-700">SE BUSCA</p>
      <p class="mt-2 text-xs font-semibold tracking-[0.22em] text-slate-700">UNA TARDE DE POOL PARTY VAQUERA</p>

      <div class="mt-6">
        <div class="mx-auto inline-flex items-center gap-2 rounded-full bg-white/75 px-4 py-2 text-xs font-semibold text-slate-700 shadow-soft">
          <span aria-hidden="true">ü§†</span><span>Tejana + mezclilla + alberca</span><span aria-hidden="true">üõü</span>
        </div>
      </div>

      <h1 class="poster-title mt-6 text-4xl font-extrabold leading-[1.05] text-slate-900 sm:text-5xl">Pool Party XVs Rebes</h1>

      <p class="mt-4 text-base text-slate-700">
        <span class="font-semibold text-cocoa-700">Recompensa:</span> risas, fotos y chapuz√≥n. Trae tu traje de ba√±o y tu mejor outfit vaquero. ü§†üõü
      </p>

      <div class="mt-6 flex flex-col gap-3">
        <a
          href="#confirmar"
          class="btn-pop inline-flex items-center justify-center gap-2 rounded-full bg-blush-300 px-6 py-3 text-sm font-extrabold text-slate-900 shadow-soft transition hover:bg-blush-100 focus:outline-none focus:ring-2 focus:ring-blush-200"
        >
          <span aria-hidden="true">‚úÖ</span>
          Confirmar asistencia
        </a>
        <a
          href="#evento"
          class="btn-pop inline-flex items-center justify-center gap-2 rounded-full bg-white/80 px-6 py-3 text-sm font-extrabold text-slate-900 shadow-soft transition hover:bg-white focus:outline-none focus:ring-2 focus:ring-slate-200"
        >
          <span aria-hidden="true">üìÖ</span>
          Ver evento
        </a>
      </div>
    </header>

    <div class="px-6">
      <div class="poster-rule my-6"></div>
    </div>

    <main class="px-6 pb-14">
      <!-- Secci√≥n canci√≥n (placeholder) -->
      <section id="cancion" class="mt-10">
        <div class="poster-panel p-6">
          <div class="flex items-start justify-between gap-3">
            <div>
              <h2 class="font-serif text-2xl font-extrabold tracking-tight text-slate-900">Ponle play y que empiece la fiesta. üé∂üõü</h2>
            </div>
            <div class="grid h-12 w-12 place-items-center rounded-2xl bg-blush-50 text-blush-600">
              <span aria-hidden="true">üéß</span>
            </div>
          </div>

          <div class="mt-5 min-h-[230px] rounded-3xl border border-slate-100 bg-white p-5 shadow-soft">
            <!-- Altavoces + visualizer -->
            <div class="flex items-center justify-between gap-3">
              <div class="grid h-10 w-10 place-items-center rounded-2xl bg-white/80 text-slate-800 shadow-soft" aria-hidden="true">
                üîä
              </div>

              <div class="flex-1">
                <div id="songViz" class="h-10 overflow-hidden grid grid-cols-12 items-end gap-1">
                  <div class="viz-bar rounded-full bg-blush-300"></div>
                  <div class="viz-bar rounded-full bg-blush-300"></div>
                  <div class="viz-bar rounded-full bg-blush-300"></div>
                  <div class="viz-bar rounded-full bg-blush-300"></div>
                  <div class="viz-bar rounded-full bg-blush-300"></div>
                  <div class="viz-bar rounded-full bg-blush-300"></div>
                  <div class="viz-bar rounded-full bg-blush-300"></div>
                  <div class="viz-bar rounded-full bg-blush-300"></div>
                  <div class="viz-bar rounded-full bg-blush-300"></div>
                  <div class="viz-bar rounded-full bg-blush-300"></div>
                  <div class="viz-bar rounded-full bg-blush-300"></div>
                  <div class="viz-bar rounded-full bg-blush-300"></div>
                </div>
                <p class="mt-2 text-center text-[11px] font-semibold tracking-[0.2em] text-slate-600">SONANDO</p>
              </div>

              <div class="grid h-10 w-10 place-items-center rounded-2xl bg-white/80 text-slate-800 shadow-soft" aria-hidden="true">
                üîà
              </div>
            </div>

            <p
              id="autoplayHint"
              class="mt-3 min-h-[1.25rem] text-xs text-slate-600 opacity-0 transition-opacity"
              aria-live="polite"
            ></p>

            <audio id="songPlayer" class="mt-3 h-14 w-full" controls preload="none" autoplay muted playsinline>
              Tu navegador no soporta audio.
            </audio>
          </div>
        </div>
      </section>

      <!-- Calendario + countdown -->
      <section id="countdown" class="mt-10">
        <div class="poster-panel p-6">
          <div class="mx-auto max-w-sm text-center">
            <div class="text-xs font-semibold tracking-[0.25em] text-slate-500">S ¬∑ M ¬∑ T ¬∑ W ¬∑ T ¬∑ F ¬∑ S</div>
            <div id="calendarGrid" class="mt-4 grid grid-cols-7 gap-y-3 text-center"></div>
          </div>

          <h2 class="mt-8 text-center font-serif text-4xl font-extrabold tracking-tight text-slate-900">FALTAN!!</h2>

          <div class="mt-6 text-center">
            <div
              class="count-number whitespace-nowrap text-[clamp(2.2rem,10vw,3.75rem)] font-extrabold leading-none text-blush-300"
              aria-live="polite"
            >
              <span id="d">--</span><span class="mx-0.5 sm:mx-1">:</span><span id="h">--</span><span class="mx-0.5 sm:mx-1">:</span><span id="m">--</span><span class="mx-0.5 sm:mx-1">:</span><span id="s">--</span>
            </div>
            <div class="mt-2 grid grid-cols-4 gap-2 text-[10px] font-semibold tracking-[0.2em] text-slate-500">
              <div>D√çAS</div>
              <div>HORAS</div>
              <div>MINUTOS</div>
              <div>SEGUNDOS</div>
            </div>
          </div>

          <p id="countdownHint" class="mt-4 text-center text-xs text-slate-600"></p>
        </div>
      </section>

      <!-- Misa -->
      <section id="misa" class="mt-10">
        <div class="poster-panel p-6">
          <div class="flex items-start justify-between gap-3">
            <div>
              <h2 class="font-serif text-3xl font-extrabold tracking-tight text-slate-900">Misa</h2>
              <p class="mt-1 text-sm text-slate-700">Acomp√°√±anos a dar gracias. üôè</p>
            </div>
            <div class="grid h-12 w-12 place-items-center rounded-2xl bg-sand-50 text-sand-500">
              <span aria-hidden="true">‚õ™</span>
            </div>
          </div>

          <div class="mt-6 grid gap-4">
            <!-- Fecha estilo afiche -->
            <article class="rounded-3xl border border-slate-100 bg-white p-5 shadow-soft">
              <p class="text-xs font-semibold tracking-[0.2em] text-slate-500">FECHA Y HORA</p>
              <div class="mt-3 grid gap-3 sm:grid-cols-[1fr_auto] sm:items-center">
                <div class="text-center sm:text-left">
                  <p id="massWeekday" class="text-xs font-extrabold tracking-[0.22em] text-cocoa-700"></p>
                  <div class="mt-1 flex items-end justify-center gap-3 sm:justify-start">
                    <div class="text-5xl font-extrabold text-slate-900" id="massDay"></div>
                    <div class="pb-1">
                      <div id="massMonth" class="text-sm font-extrabold tracking-[0.2em] text-slate-900"></div>
                      <div id="massYear" class="text-xs font-semibold tracking-[0.2em] text-slate-600"></div>
                    </div>
                  </div>
                </div>

                <div class="rounded-2xl border border-cocoa-700/25 bg-white/70 px-4 py-3 text-center shadow-soft">
                  <div class="text-xs font-semibold tracking-[0.2em] text-slate-600">HORA</div>
                  <div id="massTimeBig" class="mt-1 text-2xl font-extrabold text-slate-900"></div>
                </div>
              </div>
            </article>

            <!-- Iglesia -->
            <article class="rounded-3xl border border-slate-100 bg-white p-5 shadow-soft">
              <p class="text-xs font-semibold tracking-[0.2em] text-slate-500">IGLESIA</p>
              <p id="massLocationText" class="mt-2 text-sm font-extrabold text-slate-900"></p>
              <a
                id="massMapsLink"
                href="#"
                target="_blank"
                rel="noreferrer"
                class="btn-pop mt-3 inline-flex w-full items-center justify-center gap-2 rounded-full bg-white/80 px-4 py-3 text-sm font-extrabold text-slate-900 shadow-soft transition hover:bg-white focus:outline-none focus:ring-2 focus:ring-slate-200"
              >
                VER UBICACI√ìN IGLESIA
              </a>
            </article>
          </div>
        </div>
      </section>

      <!-- Evento -->
      <section id="evento" class="mt-10">
        <div class="poster-panel p-6">
          <div class="flex items-start justify-between gap-3">
            <div>
              <h2 class="font-serif text-3xl font-extrabold tracking-tight text-slate-900">Evento</h2>
              <p class="mt-1 text-sm text-slate-700">Pool party vaquera en Jard√≠n Cimatario. üå¥</p>
            </div>
            <div class="grid h-12 w-12 place-items-center rounded-2xl bg-aqua-50 text-aqua-700">
              <span aria-hidden="true">üìå</span>
            </div>
          </div>

          <div class="mt-6 grid gap-4">
            <!-- Fecha estilo afiche -->
            <article class="rounded-3xl border border-slate-100 bg-white p-5 shadow-soft">
              <p class="text-xs font-semibold tracking-[0.2em] text-slate-500">FECHA Y HORA</p>
              <div class="mt-3 grid gap-3 sm:grid-cols-[1fr_auto] sm:items-center">
                <div class="text-center sm:text-left">
                  <p id="eventWeekday" class="text-xs font-extrabold tracking-[0.22em] text-cocoa-700"></p>
                  <div class="mt-1 flex items-end justify-center gap-3 sm:justify-start">
                    <div class="text-5xl font-extrabold text-slate-900" id="eventDay"></div>
                    <div class="pb-1">
                      <div id="eventMonth" class="text-sm font-extrabold tracking-[0.2em] text-slate-900"></div>
                      <div id="eventYear" class="text-xs font-semibold tracking-[0.2em] text-slate-600"></div>
                    </div>
                  </div>
                </div>

                <div class="rounded-2xl border border-cocoa-700/25 bg-white/70 px-4 py-3 text-center shadow-soft">
                  <div class="text-xs font-semibold tracking-[0.2em] text-slate-600">HORA</div>
                  <div id="eventTimeBig" class="mt-1 text-2xl font-extrabold text-slate-900"></div>
                </div>
              </div>
            </article>

            <article class="rounded-3xl border border-slate-100 bg-white p-5 shadow-soft">
              <p class="text-xs font-semibold tracking-[0.2em] text-slate-500">LUGAR</p>
              <p id="eventLocationText" class="mt-2 text-sm font-extrabold text-slate-900"></p>
              <a
                id="mapsLink"
                href="#"
                target="_blank"
                rel="noreferrer"
                class="btn-pop mt-3 inline-flex w-full items-center justify-center gap-2 rounded-full bg-white/80 px-4 py-3 text-sm font-extrabold text-slate-900 shadow-soft transition hover:bg-white focus:outline-none focus:ring-2 focus:ring-slate-200"
              >
                VER UBICACI√ìN
              </a>
            </article>
          </div>
        </div>
      </section>

      <!-- Fotos -->
        <!-- Fotos estilo ‚ÄúSE BUSCA‚Äù (como afiche del viejo oeste) -->
        <div class="mt-6 grid gap-5 sm:grid-cols-2">
        <figure class="wanted-card rotate-[-1deg] p-5">
            <div class="relative">
            <div class="wanted-grain pointer-events-none absolute inset-0"></div>
            <p class="wanted-title text-center text-sm font-extrabold text-cocoa-700">SE BUSCA</p>
            <div class="poster-rule mx-auto my-3 w-4/5"></div>
            <div class="relative overflow-hidden rounded-2xl border border-cocoa-700/25 bg-white">
                <img
                class="wanted-photo wanted-photo-rose h-64 w-full object-cover"
                src="resources/rebes/rebes-1.jpeg"
                alt="Foto estilo afiche - Rebes"
                loading="lazy"
                />
            </div>
            <div class="poster-rule mx-auto my-3 w-4/5"></div>
            <figcaption class="text-center">
                <p class="wanted-title text-base font-extrabold text-slate-900">REBES</p>
                <p class="mt-1 text-xs font-semibold tracking-[0.18em] text-slate-600">POOL PARTY XV üõüü§†</p>
            </figcaption>
            </div>
        </figure>

        <figure class="wanted-card rotate-[1deg] p-5">
            <div class="relative">
            <div class="wanted-grain pointer-events-none absolute inset-0"></div>
            <p class="wanted-title text-center text-sm font-extrabold text-cocoa-700">SE BUSCA</p>
            <div class="poster-rule mx-auto my-3 w-4/5"></div>
            <div class="relative overflow-hidden rounded-2xl border border-cocoa-700/25 bg-white">
                <img
                class="wanted-photo wanted-photo-rose h-64 w-full object-cover"
                src="resources/rebes/rebes-3.jpeg"
                alt="Foto estilo afiche - Rebes 2"
                loading="lazy"
                />
            </div>
            <div class="poster-rule mx-auto my-3 w-4/5"></div>
            <figcaption class="text-center">
                <p class="wanted-title text-base font-extrabold text-slate-900">REBES</p>
                <p class="mt-1 text-xs font-semibold tracking-[0.18em] text-slate-600">VAQUERA VIBES üê¥üë¢</p>
            </figcaption>
            </div>
        </figure>
        </div>

      <!-- C√≥digo de vestimenta -->
      <section id="vestimenta" class="mt-10">
        <div class="poster-panel p-6">
          <div class="flex items-start justify-between gap-3">
            <div>
              <h2 class="font-serif text-3xl font-extrabold tracking-tight text-slate-900">C√≥digo de vestimenta</h2>
              <p class="mt-1 text-sm text-slate-700">Tem√°tica vaquera.</p>
            </div>
            <div class="grid h-12 w-12 place-items-center rounded-2xl bg-sand-50 text-sand-500">
              <span aria-hidden="true">ü§†</span>
            </div>
          </div>

          <div class="mt-6 grid gap-3">
            <div class="rounded-3xl border border-slate-100 bg-white p-5 shadow-soft">
              <p class="text-sm font-extrabold text-slate-900">Vaquera</p>
              <ul class="mt-2 space-y-2 text-sm text-slate-700">
                <li><span aria-hidden="true">üë¢</span> Botas</li>
                <li><span aria-hidden="true">üëñ</span> Pantal√≥n de mezclilla</li>
                <li><span aria-hidden="true">ü§†</span> Tejana</li>
                <li><span aria-hidden="true">üëî</span> Camisa vaquera</li>
              </ul>
              <p class="mt-3 text-xs text-slate-600">Tip: si vas a entrar a la alberca, lleva tambi√©n trajes de ba√±o, sandalias y toalla. üõü</p>
            </div>
          </div>
        </div>
      </section>

      <!-- Regalos -->
      <section id="regalos" class="mt-10">
        <div class="poster-panel p-6">
          <div class="flex items-start justify-between gap-3">
            <div>
              <h2 class="font-serif text-3xl font-extrabold tracking-tight text-slate-900">Regalos</h2>
              <p class="mt-1 text-sm text-slate-700">Tu presencia es lo m√°s importante y har√° este d√≠a a√∫n m√°s especial ‚ú® ü©∑</p>
            </div>
            <div class="grid h-12 w-12 place-items-center rounded-2xl bg-blush-50 text-blush-600">
              <span aria-hidden="true">üéÅ</span>
            </div>
          </div>

          <div class="mt-6 grid gap-4">
            <article class="rounded-3xl border border-slate-100 bg-white p-5 shadow-soft">
              <p class="text-xs font-semibold tracking-[0.2em] text-slate-500">Si deseas regalarme algo m√°s, puedes hacerlo mediante
                dep√≥sito o efectivo.</p>
              <div class="mt-3 rounded-2xl border border-cocoa-700/20 bg-white/80 p-4">
                <div class="grid gap-3">
                  <div class="flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between">
                    <div class="min-w-0">
                      <p class="text-xs font-semibold tracking-[0.2em] text-slate-500">N√öMERO DE TARJETA</p>
                      <p id="giftCardNumber" class="mt-1 break-all font-mono text-sm font-extrabold text-slate-900 sm:text-base">4152 3139 6405 8460</p>
                    </div>
                    <button
                      id="copyGiftCardBtn"
                      type="button"
                      class="btn-pop inline-flex w-full items-center justify-center gap-2 rounded-full bg-white px-4 py-2 text-sm font-extrabold text-slate-900 shadow-soft transition hover:bg-slate-50 focus:outline-none focus:ring-2 focus:ring-slate-200 sm:w-auto"
                    >
                      üìã Copiar
                    </button>
                  </div>

                  <div class="flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between">
                    <div class="min-w-0">
                      <p class="text-xs font-semibold tracking-[0.2em] text-slate-500">BANCO</p>
                      <p id="giftBank" class="mt-1 break-words font-mono text-sm font-extrabold text-slate-900 sm:text-base">BBVA</p>
                    </div>
                    <button
                      id="copyGiftBankBtn"
                      type="button"
                      class="btn-pop inline-flex w-full items-center justify-center gap-2 rounded-full bg-white px-4 py-2 text-sm font-extrabold text-slate-900 shadow-soft transition hover:bg-slate-50 focus:outline-none focus:ring-2 focus:ring-slate-200 sm:w-auto"
                    >
                      üìã Copiar
                    </button>
                  </div>

                  <div class="flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between">
                    <div class="min-w-0">
                      <p class="text-xs font-semibold tracking-[0.2em] text-slate-500">BENEFICIARIO</p>
                      <p id="giftBeneficiary" class="mt-1 break-words text-sm font-extrabold text-slate-900">CLAUDIA CECILIA VELAZQUEZ COLCHADO</p>
                    </div>
                    <button
                      id="copyGiftBeneficiaryBtn"
                      type="button"
                      class="btn-pop inline-flex w-full items-center justify-center gap-2 rounded-full bg-white px-4 py-2 text-sm font-extrabold text-slate-900 shadow-soft transition hover:bg-slate-50 focus:outline-none focus:ring-2 focus:ring-slate-200 sm:w-auto"
                    >
                      üìã Copiar
                    </button>
                  </div>
                </div>

                <p id="giftCopyHint" class="mt-3 text-xs font-semibold text-slate-600" aria-live="polite"></p>

                <p class="mt-3 text-xs font-semibold tracking-[0.2em] text-slate-500">CONCEPTO</p>
                <p class="mt-1 text-base font-extrabold text-blush-600">POOL REBES üõüü§†</p>
              </div>
            </article>

            <article class="rounded-3xl border border-slate-100 bg-white p-5 shadow-soft">
              <p class="text-xs font-semibold tracking-[0.2em] text-slate-500">SOBRES</p>
              <p class="mt-2 text-sm text-slate-700">
                El d√≠a de la fiesta habr√° una secci√≥n especial donde podr√°s dejar tu regalo y/o una cartita con tus mejores deseos para m√≠ üíå‚ú®
              </p>
            </article>
          </div>
        </div>
      </section>

      <!-- Confirmar asistencia -->
      <section id="confirmar" class="mt-10">
        <div class="poster-panel p-6">
          <div class="flex items-start justify-between gap-3">
            <div>
              <h2 class="font-serif text-3xl font-extrabold tracking-tight text-slate-900">Confirmar asistencia</h2>
            </div>
            <div class="grid h-12 w-12 place-items-center rounded-2xl bg-aqua-50 text-aqua-700">
              <span aria-hidden="true">üìù</span>
            </div>
          </div>

          <div class="mt-6 space-y-4">
            <!-- Pases (se llena desde el par√°metro URL ?num_pases=) -->
            <div
              id="passesBanner"
              class="hidden rounded-3xl border-2 border-blush-600/30 bg-gradient-to-r from-blush-100 via-white to-aqua-100 p-4 text-center shadow-soft"
              role="status"
              aria-live="polite"
            >
              <p class="text-sm font-extrabold text-slate-900">
                üéüÔ∏è‚ú® <span class="underline decoration-blush-300 decoration-4 underline-offset-4">¬°IMPORTANTE!</span> ‚ú®üéüÔ∏è
              </p>
              <p class="mt-2 text-lg font-extrabold text-cocoa-700">
                Esta invitaci√≥n es v√°lida por <span id="passesCount" class="text-slate-900">‚Äî</span> pases ü©∑ü§†üõü
              </p>
            </div>

            <div class="flex flex-col gap-3 sm:flex-row">
              <a
                id="googleFormLink"
                href="#"
                target="_blank"
                rel="noreferrer"
                class="btn-pop inline-flex flex-1 items-center justify-center gap-2 rounded-full bg-blush-600 px-5 py-3 text-sm font-semibold text-white shadow-soft transition hover:bg-blush-500 focus:outline-none focus:ring-2 focus:ring-blush-200"
              >
                <span aria-hidden="true">‚úÖ</span>
                CONFIRMAR ASISTENCIA
              </a>
            </div>

            <p id="formCopyHint" class="text-xs text-slate-600" aria-live="polite"></p>
          </div>
        </div>
      </section>

      <footer class="mt-10 pb-2 text-center text-xs text-slate-600">
        <p>Rebes <span aria-hidden="true">üíñ</span> ¬∑ Vaquera vibes & pool party energy <span aria-hidden="true">ü§†üõü</span></p>
      </footer>
    </main>

      </div>
    </div>

    <script>
      /**
       * CONFIG DEL EVENTO
       * Cambia SOLO esto y todo lo dem√°s se actualiza.
       */
      const EVENT = {
        honoree: "Rebes",
        // Fecha y hora del evento: 14 de marzo 2026, 3:30 PM
        // Formato recomendado: "YYYY-MM-DDTHH:mm:ss" (o con zona horaria: -06:00)
        dateTimeISO: "2026-03-14T15:30:00",
        locationText: "Jard√≠n Cimatario",
        // Pega aqu√≠ tu link real de Google Maps del lugar
        mapsUrl: "https://maps.app.goo.gl/r3ryYF1GNxjsZvcj9",
        // Misa (12:00 PM)
        massDateTimeISO: "2026-03-14T12:00:00",
        massLocationText: "Iglesia de Nuestra Se√±ora del Rosario del Rayo",
        // Pega aqu√≠ el link real de Google Maps de la iglesia
        massMapsUrl: "https://www.google.com/maps",
        // Pega aqu√≠ el link de tu Google Form (viewform)
        googleFormUrl: "https://forms.gle/9CAa2u4MdRgdMuVZ8",
        // Opcional: link directo a un MP3/archivo de audio para el player (si no, se queda vac√≠o)
        songUrl: "resources/music/i-love-it.mp3",
        // Regalos
        giftCardNumber: "4152 3139 6405 8460",
        giftBank: "BBVA",
        giftClabe: "1234567899876543210",
        giftBeneficiary: "CLAUDIA CECILIA VELAZQUEZ COLCHADO",
      };

      const $ = (id) => document.getElementById(id);

      // Mostrar pases desde URL (?num_pases=3)
      (function showPassesFromUrl() {
        const banner = $("passesBanner");
        const countEl = $("passesCount");
        if (!banner || !countEl) return;

        const params = new URLSearchParams(window.location.search);
        const raw = params.get("num_pases");
        if (!raw) return;

        const n = Number.parseInt(raw, 10);
        if (!Number.isFinite(n) || n <= 0) return;

        // Puedes ajustar l√≠mites si quieres (ej. max 10)
        countEl.textContent = String(n);
        banner.classList.remove("hidden");
      })();

      // Fecha/hora del evento
      const eventDate = new Date(EVENT.dateTimeISO);
      const massDate = new Date(EVENT.massDateTimeISO);

      const fmtWeekday = new Intl.DateTimeFormat("es-MX", { weekday: "long" });
      const fmtMonth = new Intl.DateTimeFormat("es-MX", { month: "long" });
      const fmtYear = new Intl.DateTimeFormat("es-MX", { year: "numeric" });
      const fmtDay = new Intl.DateTimeFormat("es-MX", { day: "2-digit" });
      const fmtTime = new Intl.DateTimeFormat("es-MX", { hour: "numeric", minute: "2-digit", hour12: true });

      function setTextIfExists(id, value) {
        const el = $(id);
        if (!el) return;
        el.textContent = value;
      }

      function setPosterDate(prefix, dateObj) {
        // ejemplo: prefix "event" -> eventWeekday, eventDay, eventMonth, eventYear, eventTimeBig
        setTextIfExists(`${prefix}Weekday`, fmtWeekday.format(dateObj).toUpperCase());
        setTextIfExists(`${prefix}Day`, fmtDay.format(dateObj));
        setTextIfExists(`${prefix}Month`, fmtMonth.format(dateObj).toUpperCase());
        setTextIfExists(`${prefix}Year`, fmtYear.format(dateObj));
        setTextIfExists(`${prefix}TimeBig`, fmtTime.format(dateObj).toUpperCase());
      }

      // Evento (pool party)
      setPosterDate("event", eventDate);
      setTextIfExists("eventLocationText", EVENT.locationText);
      const mapsLink = $("mapsLink");
      if (mapsLink) mapsLink.href = EVENT.mapsUrl;

      // Misa
      // ids: massWeekday, massDay, massMonth, massYear, massTimeBig
      // (el HTML usa massTimeBig en el card; para compat: alias massTimeBig -> massTimeBig)
      setPosterDate("mass", massDate);
      setTextIfExists("massLocationText", EVENT.massLocationText);
      const massMapsLink = $("massMapsLink");
      if (massMapsLink) massMapsLink.href = EVENT.massMapsUrl;

      // Regalos
      setTextIfExists("giftCardNumber", EVENT.giftCardNumber || "XXXX XXXX XXXX XXXX");
      setTextIfExists("giftBank", EVENT.giftBank || "BBVA");
      setTextIfExists("giftClabe", EVENT.giftClabe || "XXXXXXXXXXXXXXXXXX");
      setTextIfExists("giftBeneficiary", EVENT.giftBeneficiary || "NOMBRE APELLIDO");

      async function copyTextToClipboard(text) {
        // Clipboard API puede fallar en algunos contextos; manejamos ese caso con fallback.
        if (navigator.clipboard && window.isSecureContext) {
          await navigator.clipboard.writeText(text);
          return;
        }
        const ta = document.createElement("textarea");
        ta.value = text;
        ta.setAttribute("readonly", "");
        ta.style.position = "fixed";
        ta.style.opacity = "0";
        document.body.appendChild(ta);
        ta.select();
        document.execCommand("copy");
        ta.remove();
      }

      function wireCopy(btnId, valueId, label) {
        const btn = $(btnId);
        const valueEl = $(valueId);
        const hint = $("giftCopyHint");
        if (!btn || !valueEl || !hint) return;

        btn.addEventListener("click", async () => {
          try {
            const text = (valueEl.textContent || "").trim();
            await copyTextToClipboard(text);
            hint.textContent = `‚úÖ ${label} copiado`;
          } catch {
            hint.textContent = `No se pudo copiar ${label}.`;
          }
        });
      }

      wireCopy("copyGiftCardBtn", "giftCardNumber", "Tarjeta");
      wireCopy("copyGiftBankBtn", "giftBank", "Banco");
      wireCopy("copyGiftClabeBtn", "giftClabe", "CLABE");
      wireCopy("copyGiftBeneficiaryBtn", "giftBeneficiary", "Beneficiario");
      // Player de canci√≥n:
      // - Autoplay con sonido es bloqueado por muchos navegadores.
      // - Estrategia: autoplay en mute (s√≠ se permite) + activar sonido en el primer toque/click en cualquier parte.
      const songEl = $("songPlayer");
      const autoplayHint = $("autoplayHint");

      async function tryAutoplayMuted() {
        if (!songEl || !EVENT.songUrl) return;
        // Usar URL absoluta para que no falle con ?num_pases u otros par√°metros
        songEl.src = new URL(EVENT.songUrl, window.location.href).toString();
        songEl.muted = true;

        try {
          songEl.load();
          await songEl.play();
          if (autoplayHint) {
            autoplayHint.textContent = "Toca en cualquier parte para activar el sonido. ü§†üõü";
            autoplayHint.classList.remove("opacity-0");
          }
        } catch {
          // Si falla incluso en mute, no podemos forzarlo sin interacci√≥n.
          if (autoplayHint) {
            autoplayHint.textContent = "Tu navegador bloque√≥ la reproducci√≥n autom√°tica. Toca la pantalla para iniciar.";
            autoplayHint.classList.remove("opacity-0");
          }
        }
      }

      // Si el audio falla (ruta/permiso), avisamos
      if (songEl && autoplayHint) {
        songEl.addEventListener("error", () => {
          autoplayHint.textContent = "No se pudo cargar la canci√≥n. Revisa la ruta del MP3 o abre la invitaci√≥n con servidor local.";
          autoplayHint.classList.remove("opacity-0");
        });
      }

      function armUnmuteOnFirstGesture() {
        if (!songEl) return;

        const enableSound = () => {
          try {
            // Asegurar src antes de reproducir (por si autoplay fall√≥)
            if (!songEl.src) songEl.src = new URL(EVENT.songUrl, window.location.href).toString();
            songEl.load();
            songEl.muted = false;
            songEl.volume = 1;
            const p = songEl.play();
            if (p && typeof p.catch === "function") {
              p.then(() => {
                if (autoplayHint) autoplayHint.classList.add("opacity-0");
              }).catch(() => {
                if (autoplayHint) {
                  autoplayHint.textContent = "Activa el sonido desde los controles del reproductor.";
                  autoplayHint.classList.remove("opacity-0");
                }
              });
            } else {
              // Fallback viejo
              if (autoplayHint) autoplayHint.classList.add("opacity-0");
            }
          } catch {
            if (autoplayHint) {
              autoplayHint.textContent = "Activa el sonido desde los controles del reproductor.";
              autoplayHint.classList.remove("opacity-0");
            }
          }
        };

        // Un solo gesto del usuario en cualquier parte
        const opts = { once: true, capture: true };
        window.addEventListener("pointerdown", enableSound, opts);
        window.addEventListener("touchstart", enableSound, opts);
        window.addEventListener("keydown", enableSound, { once: true });
      }

      void tryAutoplayMuted();
      armUnmuteOnFirstGesture();

      /**
       * Visualizer (barras) SIN WebAudio:
       * - No bloquea ni redirige el audio (m√°s compatible en m√≥vil).
       * - Se anima con una onda basada en currentTime para dar efecto ‚Äúal ritmo‚Äù.
       */
      const songViz = $("songViz");
      let __vizRaf = 0;

      function stopViz() {
        if (__vizRaf) cancelAnimationFrame(__vizRaf);
        __vizRaf = 0;
      }

      function startViz() {
        if (!songEl || !songViz) return;
        if (__vizRaf) return;

        const bars = Array.from(songViz.querySelectorAll(".viz-bar"));

        const tick = () => {
          const t = songEl.currentTime || 0;
          const playing = !songEl.paused && !songEl.ended;

          for (let i = 0; i < bars.length; i++) {
            const phase = i * 0.45;
            const wave = 0.5 + 0.5 * Math.sin(t * 6 + phase);
            const bounce = 0.5 + 0.5 * Math.sin(t * 2.3 + phase * 1.7);
            const v = playing ? (0.25 + 0.75 * wave * bounce) : 0.15;
            const h = Math.round(6 + v * 28);
            bars[i].style.height = `${h}px`;
            bars[i].style.opacity = String(0.55 + v * 0.45);
          }

          __vizRaf = requestAnimationFrame(tick);
        };

        tick();
      }

      if (songEl) {
        songEl.addEventListener("play", startViz);
        songEl.addEventListener("pause", stopViz);
        songEl.addEventListener("ended", stopViz);
      }

      // Google Form (link + embed)
      function buildGoogleFormEmbedUrl(url) {
        if (!url || typeof url !== "string") return "";
        if (!url.includes("docs.google.com/forms")) return url;
        if (url.includes("embedded=true")) return url;
        return url.includes("?") ? `${url}&embedded=true` : `${url}?embedded=true`;
      }

      const googleFormUrl = EVENT.googleFormUrl;
      const googleFormLink = $("googleFormLink");
      const googleFormEmbed = $("googleFormEmbed");

      // Enlazar/embeber Google Form (si existen los elementos en el DOM)
      if (googleFormLink) googleFormLink.href = googleFormUrl;
      if (googleFormEmbed) googleFormEmbed.src = buildGoogleFormEmbedUrl(googleFormUrl);

      // Copiar link del Google Form (opcional: si existe el bot√≥n)
      const copyFormLinkBtn = $("copyFormLinkBtn");
      if (copyFormLinkBtn) {
        copyFormLinkBtn.addEventListener("click", async () => {
          const hint = $("formCopyHint");
          if (!hint) return;

          if (!googleFormUrl || googleFormUrl === "PEGA_AQUI_TU_GOOGLE_FORM") {
            hint.textContent = "Falta pegar el link del Google Form en EVENT.googleFormUrl.";
            return;
          }

          try {
            await navigator.clipboard.writeText(googleFormUrl);
            hint.textContent = "Link copiado. Env√≠alo por WhatsApp. ü§†";
          } catch {
            hint.textContent = "No se pudo copiar autom√°ticamente. Mant√©n presionado el bot√≥n Abrir y copia el link.";
          }
        });
      }

      // Copiar direcci√≥n
      const copyAddressBtn = $("copyAddressBtn");
      const copyHint = $("copyHint");
      if (copyAddressBtn && copyHint) {
        copyAddressBtn.addEventListener("click", async () => {
          try {
            await navigator.clipboard.writeText(EVENT.locationText);
            copyHint.textContent = "Direcci√≥n copiada. P√©gala en WhatsApp o Maps. ü§†";
          } catch {
            copyHint.textContent = "No se pudo copiar autom√°ticamente. Selecciona y copia la direcci√≥n manualmente.";
          }
        });
      }

      // Calendar
      function renderCalendar(date) {
        const grid = $("calendarGrid");
        grid.innerHTML = "";

        const year = date.getFullYear();
        const month = date.getMonth();
        const dayOfMonth = date.getDate();

        const first = new Date(year, month, 1);
        const daysInMonth = new Date(year, month + 1, 0).getDate();

        // Semana empieza en Domingo (0)
        const startOffset = first.getDay();

        for (let i = 0; i < startOffset; i++) {
          const empty = document.createElement("div");
          empty.className = "h-10";
          grid.appendChild(empty);
        }

        for (let d = 1; d <= daysInMonth; d++) {
          const cell = document.createElement("div");
          const isEvent = d === dayOfMonth;

          cell.className = "mx-auto grid h-10 w-10 place-items-center rounded-full text-base font-semibold";

          if (isEvent) {
            cell.className += " relative text-slate-900";
            cell.innerHTML = `
              <span class="relative z-10">${d}</span>
              <span class="pointer-events-none absolute -inset-1 grid place-items-center text-blush-300">
                <svg class="block" width="44" height="44" viewBox="0 0 24 24" fill="none" aria-hidden="true">
                  <path
                    d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"
                    stroke="currentColor"
                    stroke-width="2.2"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  />
                </svg>
              </span>
            `;
          } else {
            cell.textContent = String(d);
            cell.className += " text-slate-700";
          }

          $("calendarGrid").appendChild(cell);
        }
      }

      renderCalendar(eventDate);

      // Countdown
      function pad2(n) {
        return String(n).padStart(2, "0");
      }

      function updateCountdown() {
        const now = new Date();
        const diffMs = eventDate.getTime() - now.getTime();

        if (!Number.isFinite(diffMs)) return;

        if (diffMs <= 0) {
          $("d").textContent = "00";
          $("h").textContent = "00";
          $("m").textContent = "00";
          $("s").textContent = "00";
          $("countdownHint").textContent = "¬°Es hoy! ü§†üõü";
          return;
        }

        const totalSeconds = Math.floor(diffMs / 1000);
        const days = Math.floor(totalSeconds / (3600 * 24));
        const hours = Math.floor((totalSeconds % (3600 * 24)) / 3600);
        const minutes = Math.floor((totalSeconds % 3600) / 60);
        const seconds = totalSeconds % 60;

        $("d").textContent = pad2(days);
        $("h").textContent = pad2(hours);
        $("m").textContent = pad2(minutes);
        $("s").textContent = pad2(seconds);
      }

      updateCountdown();
      window.setInterval(updateCountdown, 1000);

      // Nota: el RSVP se registra en Google Form, as√≠ que no guardamos datos localmente en esta p√°gina.
    </script>
  </body>
</html>
